#### Работа с социальными сетями:

##### Приложение включает в себя:

 Функционал для работы с командной строкой **http://social.icontext.ru/cmd/commands**
 Facebook.

 1. Авторизация и аутентификация;
- Необходимо ввести данные пароль пользвателя FB, с которым будет работать приложение;
- Полчение прав доступа, в соответствии с аккаунтом и назначенными привилегиями работы с приложением;
 
2. Получение связки: СТРАНИЦА -> ФОРМА -> ЛИДЫ из FB:
- Получение всех разрешенных страниц приложения;
- Выборка всех разрешенных форм, с привязанными к ним лидами;
- Запись лидов в файл формы лидов и во временную таблицу tmp_fb_leads
- Подписывание страницы лида на получение данных из FB, в случе их изменения или добавления;

3. Подписывание на событие **leadgen** из FB 
- Клик на непомеченной строке (белого цвета) инициирует подписку;
- Клик на помеченной строке (зеленого цвета) удаляет подписку;

4. Кнопка "Далее" позволяет перейти в отдел иерархии и добавить почту для лида;
 - Открываем: ФОРМА -> ЛИД -> поле для ввода почтового ящика;
 - Добавляем почтовый/почтовые ящики, на которые будут отсылаться свежие лиды;
 
  
Получение лидов:

- из папки проекта, командой консоли:

  **bin/console facebook:get-leads**
 
- каманда инициирует загрузку лидов в базу данных, а так же в файлы .csv

Затрагиваемые таблицы и файлы:

**tmp_fb_leads, fb_leads, /tmp/***

Отправка лидов:

- из папки проекта, командой консоли:

  **bin/console facebook:send-leads**

Запрашиваемые данные:

fb_form_mails (на те почтовые ящики, где лид не был получен), в связке с fb_leads

   - Ошибки, в случае отсутствия данных: 
      
      **HTTP/1.1 204 HTTP NO CONTENT**
    
   ```json 
        {
             error: "No events where detected"
        }    
   ```